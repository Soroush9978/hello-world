"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7366],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>g});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),c=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},m="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},k=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),m=c(n),k=a,g=m["".concat(s,".").concat(k)]||m[k]||p[k]||o;return n?r.createElement(g,i(i({ref:t},u),{},{components:n})):r.createElement(g,i({ref:t},u))}));function g(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=k;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[m]="string"==typeof e?e:a,i[1]=l;for(var c=2;c<o;c++)i[c]=n[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}k.displayName="MDXCreateElement"},8364:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>p,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var r=n(7462),a=(n(7294),n(3905));const o={sidebar_label:"network_router",title:"core.messaging.networking.network_router"},i=void 0,l={unversionedId:"reference/backend/core/messaging/networking/network_router",id:"reference/backend/core/messaging/networking/network_router",title:"core.messaging.networking.network_router",description:"NetworkRouter Objects",source:"@site/docs/reference/backend/core/messaging/networking/network_router.md",sourceDirName:"reference/backend/core/messaging/networking",slug:"/reference/backend/core/messaging/networking/network_router",permalink:"/docs/reference/backend/core/messaging/networking/network_router",draft:!1,tags:[],version:"current",frontMatter:{sidebar_label:"network_router",title:"core.messaging.networking.network_router"},sidebar:"backendSidebar",previous:{title:"network_filters",permalink:"/docs/reference/backend/core/messaging/networking/network_filters"},next:{title:"server",permalink:"/docs/reference/backend/core/messaging/networking/server"}},s={},c=[{value:"NetworkRouter Objects",id:"networkrouter-objects",level:2},{value:"Direction Objects",id:"direction-objects",level:2},{value:"RoutingError Objects",id:"routingerror-objects",level:2},{value:"__init__",id:"__init__",level:4},{value:"verify_message",id:"verify_message",level:4},{value:"check_local_routing",id:"check_local_routing",level:4},{value:"check_client_routing",id:"check_client_routing",level:4},{value:"check_server_routing",id:"check_server_routing",level:4}],u={toc:c},m="wrapper";function p(e){let{components:t,...n}=e;return(0,a.kt)(m,(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"networkrouter-objects"},"NetworkRouter Objects"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},"class NetworkRouter()\n")),(0,a.kt)("p",null,"Network routing rules and logic."),(0,a.kt)("p",null,"When a message enters the network engine in order to be sent to remote targets, it is first checked for its\nvalidity. Afterwards, the router decides through which channels (local, client, server) it needs to be sent."),(0,a.kt)("h2",{id:"direction-objects"},"Direction Objects"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},"class Direction(IntEnum)\n")),(0,a.kt)("p",null,"Enum telling the direction (INcoming or OUTgoing) of a message."),(0,a.kt)("h2",{id:"routingerror-objects"},"RoutingError Objects"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},"class RoutingError(RuntimeError)\n")),(0,a.kt)("p",null,"Represents errors during routing validation."),(0,a.kt)("h4",{id:"__init__"},"_","_","init","_","_"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},"def __init__(comp_id: UnitID, *, has_client: bool, has_server: bool)\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"comp_id")," - The component id (required to decide whether we match a given direct target)."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"has_client")," - Whether the network has a client instance."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"has_server")," - Whether the network has a server instance.")),(0,a.kt)("h4",{id:"verify_message"},"verify","_","message"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},"def verify_message(direction: Direction, msg: Message) -> None\n")),(0,a.kt)("p",null,"Verifies whether a message may enter the network engine."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"direction")," - The direction (",(0,a.kt)("em",{parentName:"li"},"IN")," or ",(0,a.kt)("em",{parentName:"li"},"OUT"),") of the message."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"msg")," - The message that wants to enter the network engine.")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Raises"),":"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"RoutingError")," - In case the message is not valid to enter the network engine.")),(0,a.kt)("h4",{id:"check_local_routing"},"check","_","local","_","routing"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},"def check_local_routing(direction: Direction, msg: Message,\n                        msg_meta: MessageMetaInformation) -> bool\n")),(0,a.kt)("p",null,"Checks if the message should be routed locally (dispatched via the message bus)."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"direction")," - The direction (",(0,a.kt)("em",{parentName:"li"},"IN")," or ",(0,a.kt)("em",{parentName:"li"},"OUT"),") of the message."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"msg")," - The actual message."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"msg_meta")," - The message meta information.")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Returns"),":"),(0,a.kt)("p",null,"  Whether local routing should happen."),(0,a.kt)("h4",{id:"check_client_routing"},"check","_","client","_","routing"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},"def check_client_routing(direction: Direction, msg: Message,\n                         msg_meta: MessageMetaInformation) -> bool\n")),(0,a.kt)("p",null,"Checks if the message should be routed through the client."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"direction")," - The direction (",(0,a.kt)("em",{parentName:"li"},"IN")," or ",(0,a.kt)("em",{parentName:"li"},"OUT"),") of the message."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"msg")," - The actual message."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"msg_meta")," - The message meta information.")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Returns"),":"),(0,a.kt)("p",null,"  Whether client routing should happen."),(0,a.kt)("h4",{id:"check_server_routing"},"check","_","server","_","routing"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},"def check_server_routing(direction: Direction, msg: Message,\n                         msg_meta: MessageMetaInformation) -> bool\n")),(0,a.kt)("p",null,"Checks if the message should be routed through the server."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"direction")," - The direction (",(0,a.kt)("em",{parentName:"li"},"IN")," or ",(0,a.kt)("em",{parentName:"li"},"OUT"),") of the message."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"msg")," - The actual message."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"msg_meta")," - The message meta information.")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Returns"),":"),(0,a.kt)("p",null,"  Whether server routing should happen."))}p.isMDXComponent=!0}}]);